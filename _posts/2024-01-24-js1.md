---
title: "[JS] 자바스크립트 (JavaScript)"

tags:
    - JS

toc: true
toc_sticky: true

date: 2024-01-24
last_modified_at: 2024-01-24
---

## 자바스크립트 (```JavaScript```) : 동적 클라이언트 사이드 스크립트 언어

- 웹 페이지의 보조적인 기능을 수행하기 위해 브라우저에서 동작하는 경량 프로그래밍 언어로 개발
  - 초창기에는 웹 서버로부터 전달받은 ```HTML/CSS```를 단순히 렌더링하는 수준에 머무름
  - 1999년, 비동기로 데이터를 교환하는 ```Ajax``` 기능이 도입돼, 필요한 데이터만 받아 렌더링하는 것이 가능해짐
  - 2006년, ```DOM```을 쉽게 제어할 수 있는 ```JQuery```가 등장
  - 2008년, 구글의 크롬 ```V8``` 자바스크립트 엔진으로 웹 서버에서 수행되던 로직이 브라우저로 이동
  - 2009년, ```Node.js```로 브라우저 이외의 환경에서도 자바스크립트 엔진을 동작시킬 수 있게 됨
    - 프런트엔드와 백엔드 모두에서 활용될 수 있는 동형성 (```isomorphic```)이 보장
    - 비동기 ```I/O```를 지원하고 단일 스레드 이벤트 루프를 기반하여, 실시간 데이터 처리가 빈번한 ```SPA```에 적합
      - ```SPA``` (```Single Page Application```) : ```React```, ```Vue.js``` 등
- 모든 브라우저에 내장된 브라우저 표준 프로그래밍 언어로 자리잡음
  - 개발자가 별도의 컴파일 작업을 수행하지 않는 인터프리터 언어 (```Interpreter Language```)
  - 모던 자바스크립트 엔진은 인터프리터와 컴파일러의 장점을 결합해, 비교적 속도가 느린 인터프리터의 단점 해결
  - 명령형 (```imperative```), 함수형 (```functional```), 프로토타입 기반 (```prototype-based```), 객체지향 프로그래밍을 지원하는 멀티 패러다임 프로그래밍 언어

### ```Node.js``` : 브라우저 밖에서 자바스크립트 코드를 실행하게 해주는 런타임 환경

> ```HTML/CSS/JS```를 실행하여 웹 페이지를 브라우저 화면에 렌더링하는 브라우저와 달리, ```Node.js``` 는 브라우저 외부에서 자바스크립트를 실행할 수 있는 환경을 제공
>
> - 브라우저와 동일하게 자바스크립트의 코어인 ```ECMScript```를 제공
> - 파싱된 ```HTML``` 요소를 선택 및 조작하는 ```DOM API```이나 클라이언트 사이드 ```Web API```를 제공되지 않음
> - 파일을 생성 및 수정할 수 있는 파일 시스템 및 ```Node.js``` 고유 ```API``` 제공
>
> 브라우저가 제공하는 개발자 도구 (```DevTools```) 기능
>
> <img src="https://github.com/pocj8ur4in/pocj8ur4in.github.io/assets/105341168/c788a167-03a3-49c3-86b1-9340a67c688c">

- ```npm``` : ```Node.js```의 패키지를 관리할 수 있는 도구
  - ```Node.js```에서 사용할 모듈을 패키지화해 모아둔 저장소 및 패키지 설치 및 관리를 위한 ```CLI``` 제공
  - ```npx``` (```node package execute```)을 통해 패키지를 설치 및 실행
  - 국내에서는 패키지 중복 문제를 링크 방식으로 해결한 ```yarn```을 많이 사용하는 추세

## 변수 (```variable```) : 하나의 값을 저장할 수 있는 메모리 공간

> 변수 = 선언 + 식별자 + 타입 + 값 + 소코프

- 메모리 주소를 통해 값에 직접 접근하는 것은 위험 → 자바스크립트는 개발자의 직접적인 메모리 제어를 허용하지 않음
- 변수 이름을 어떤 값을 구별해 식별 가능한 고유한 이름이란 의미에서, 식별자 (```Identifier```)라고도 함
  - 식별자는 값이 아닌 메모리 주소를 기억하고 있어, 식별자로 메모리 공간에 저장된 값에 접근

```
var userId = 1;
var userName = 'John';

var user = { id: 1, name: 'John' };

var users = {
    { id: 1, name: 'John' }
}
```

- 변수 선언 (```variable declaration```)을 통해 변수를 생성
  - ```var```, ```let```, ```const``` 키워드로 변수를 선언
  - 변수에 값을 할당하지 않았으면, 자바스크립트 엔진에 의해 ```undefined``` 값이 할당되어 초기화
  - 선언하지 않은 식별자에 접근하면 참조 에러 (```ReferenceError```)가 발생

### 변수 호이스팅 (```variable hoisting```) : 변수 선언문을 코드 맨 위에 올려진 것처럼 동작시킴

```
console.log(a);
var a = 10;

> undefined
```

- 선언문의 실행 시점 : 선언문은 런타임 (```Runtime```)이 아닌 그 이전 단계에 먼저 실행
  - 소스 코드를 한 줄씩 순차적으로 실행하기 앞서, 먼저 소스 코드의 평가 과정에서 선언문을 먼저 실행
  - 즉, 식별자를 선언하는 선언문과 값을 할당하는 할당문의 실행 시점은 서로 다름
- 변수, 함수, 클래스와 같이 키워드를 사용해서 선언하는 모든 식별자는 호이스팅됨


### 값 (```value```) : 표현식이 평가되어 생성된 결과

- 평가 (```evaluation```) : 표현식을 해석해서 값을 생성하거나 참조하는 것

```
10 + 20; // 30
```

- 리터럴 (```literal```) : 사람이 이해할 수 있는 문자 혹인 기호를 통해 값을 생성하는 표기법

<img src="https://github.com/pocj8ur4in/pocj8ur4in.github.io/assets/105341168/21a03922-1820-4bdd-82e9-844443ccedf3" width="80%">

- 표현식 (```expression```) : 값으로 평가될 수 있는 구문
  - 구문 (```statement```) : 프로그램을 이루는 기본 단위이자 최소 실행 단위 (선언문, 할당문, 조건문, 반복문 등)
    - 토큰 (```token```) : 문법적으로 더 이상 나눌 수 없는 코드의 기본 요소

#### 데이터 타입 (```Date Type```) : 값의 종류

<img src="https://github.com/pocj8ur4in/pocj8ur4in.github.io/assets/105341168/f0c2d012-dc6b-418d-919f-b9dfa828448a" width="80%">

- 숫자 타입 : 정수 및 실수를 모두 포함하는 타입으로 존재 (<b>모든 수를 실수로 처리</b>)
- 문자열 타입 : '', "", ``로 문자열을 감싼 텍스트 데이터
  - 템플릿 (```template```) 리터럴 : ``로 감싼 문자열 (```ES6```부터 도입)
    - 멀티라인 문자열 : 백슬레시 (```\n```) 없이 개행 가능
    - 표현식 삽입 : ```+```으로 ```${}```로 감싼 표현식을 문자열로 변환해 삽입할 수 있음
- 불리언 타입 : 참 (```true```)과 거짓 (```false```)
- ```undefined``` 타입 : 변수 선언에 의해 확보된 메모리 공간은 쓰레기 값이 아닌 ```undefined```로 초기화
- ```null``` 타입 : 변수에 값이 없다는 것을 의도적으로 명시 (```intentional absence```)하기 위해 사용
- 심벌 (```symbol```) 타입 : 변경 불가능한 원시 타입 (다른 값과 중복되지 않는 유일무이한 값)
  - ```Symbol``` 함수를 호출해 생성되며, 값은 외부에 노출되지 않음 (```var key = Symbol('key');```)

### 동적 타이핑 (```Dynamic Typing```) : 변수를 선언할 때 데이터 타입을 사전에 선언하지 않음

- 자바스크립트의 변수는 선언이 아닌 할당에 의해 타입이 결정되는 타입 추론 (```Type Inference```)이 이루어짐
- 재할당에 의해 변수의 타입은 언제든지 동적으로 변화할 수 있음 (```loosely data```)

> 정적 타입 (```Static Typing```) : 변수를 선언할 때 데이터 타입을 사전에 선언
> 
> - 변수에 선언한 타입에 해당하는 값만 할당할 수 있음
> - 컴파일 시점에 타입 체크 (```Type Check```)를 수행하고, 통과하지 못하면 에러를 발생시킴
> - 타입의 일관성을 강제해 안정ㅇ적인 코드의 구현을 통해 런타임에 발생하는 에러를 줄임

- 자바스크립트는 ```var```, ```let```, ```const``` 키워드를 통해 변수만 선언
  - ```typeof()``` 연산자를 통해 피연산자의 데이터 타입을 문자열로 반환할 수 있음

> 동적 타이핑 및 동적 타입 언어의 단점?
>
> - 동적 타입 언어의 변수 값은 언제든지 변할 수 있음
>   - 복잡한 프로그램에서는 변수 값을 추적하기 어려울 수 있음
> - 동적 타입 언어의 변수는 값의 변경에 의해 타입 또한 언제든지 변경될 수 있음
>   - 값을 확인하기 전에는 타입을 확신할 수 없음
>   - 자바스크립트 엔진에 의해 타입이 자동으로 변환될 수도 있음
>
> → 동적 타입 언어는 유연성 (```Flexibility```)은 높지만 신뢰성 (```Reliability```)는 떨어진다.
>
>> 변수를 사용할 때 지켜면 좋은 규칙
>>
>> - 변수는 꼭 필요한 경우에 한해 제한적으로 사용한다.
>> - 변수의 유효 범위인 스코프는 최대한 좁게 만들어 변수의 부작용을 억제한다.
>> - 전역 변수는 최대한 자제한다.
>> - 변수보다는 상수를 사용해 값의 변경을 억제한다.
>> - 변수 이름은 목적 및 의미를 파악할 수 있도록 네이밍하고, 특히 스코프가 넓을수록 명확하게 명명한다.

### 암묵적 타입 변환 : 자바스크립트 엔진에서 에러를 발생시키지 않도록 타입을 바꿔 표현식을 평가하는 것

- 문자열 타입 변환 : ```+```의 피연산자 중 하나가 문자열이면, 문자열 연결 연산자로 동작하므로 다른 것을 문자열로 변환
- 숫자 타입 변환 : 산술 및 비교 연산자의 피연산자 중에 숫자 타입이 아닌 피연산자를 숫자 타입으로 변환
- 불리언 타입 변환 : 논리적 참/거짓을 평가하는 경우에 불리언 타입이 아닌 피연산자를 불리언 타입으로 변환

### 명시적 타입 변환 : 의도적으로 값의 타입을 변환하는 것 → 타입 캐스팅 (```type casting```)

- 문자열 타입으로 변환 : ```String()```, ```toString()```, 문자열 연결 연산자 ```+```
- 숫자 타입으로 변환 : ```Number()```, ```parseInt()/parseFloat()```, ```+```, ```*```
- 불리언 타입으로 변환 : ```Boolean()```, 부정 논리 연산자 ```!```를 2번

> 기존 원시 값을 사용해 다른 타입의 새로운 원시 값을 생성하는 것!
>
> - 원시 값은 변경 불가능한 값 (```immutable value```) → 기존 원시 값을 직접 변경 ✘
> - 자바스크립트 엔진에서 표현식을 평가하기 위해 피연산자의 값을 암묵적 타입 변환으로 새로운 타입의 값을 만듬

### 단축 평가 (```short-circuit evaluation```) : 표현식을 평가하는 중에 결과가 확정되면, 평가 과정을 생략

- 논리 평가 : 논리 연산자를 이용한 단축 평가 (좌항에서 우항으로 평가)
  - 논리곱 연산자 ```&&```는 두 피연산자가 모두 ```true```일 때, ```true``` 반환
    - 논리 연산의 결과를 결정하는 두번째 피연산자를 그대로 반환
  - 논리합 연산자 ```||```는 두 피연산자 중 하나만  ```true```이여도, ```true``` 반환
    - 논리 연산의 결과를 결정하는 첫번째 피연사자를 그대로 반환

```
'Cat' && 'Dog' // true && 'Dog' → 'Dog'
'Cat' || 'Dog' // 'Cat'... → 'Cat'
```

> 논리 평가를 사용하는 경우?
>
> - 객체를 가리키기 기대하는 변수가 ```null``` 혹은 ```undefined```가 아닌지 확인하고 프로퍼티를 참조할 때
>
> ```
> var elem = null;
> // var value = elem.value; // TypeError
> var value = elem && elem.value; // null
> ```
>
> - 함수 매개변수에 ```undefined```가 할당되지 않도록 기본값을 설정할 때
>
> ```
> function getStringLength() {
> str = str || '';
> return str.length;
> }
> getStringLength(); // 0
> getStringLength('hello'); // 5
> ```

- 옵셔널 체이닝 (```Optional Chaining```) 연산자 ```?``` : 좌항의 피연산자가 ```null``` 혹은 ```undefined```이면 ```undefined```를 반환하고, 그렇지 않으면 우항의 프로퍼티 참조를 그대로 진행함

```
var elem = null;
var str = '';

var value1 = elem?.value; console.log(value1); // undefined
var value2 = elem && elem.value; console.log(value2); // null
var value3 = str && str.length; console.log(value3); // ''
var value4 = str?.length; console.log(value4); // 0
```

- ```null``` 병합 연산자 ```??``` : 좌항의 피연산자가 ```null``` 혹은 ```undefined```이면 우항의 피연산자를 반환하고, 그렇지 않으면 좌항의 피연산자를 반환 → 변수에 기본값을 설정할 때 사용
  - 논리 연산자 ```||```를 사용한 단축 평가와 달리, 피연산자가  ```false```로 평가받는 ```Falsy``` 값 (```false```, ```undefined```, ```null```, ```0```, ```-0```, ```NaN```, ```''```)이라도 ```null``` 혹은 ```undefined```이 아니면, 좌항의 피연산자를 반환함

```
var foo = null ?? 'default'; // 'default'
```

## 객체 (```Object```) : 소프트웨어에서 속성과 기능을 가지는 프로그램의 단위

> - 원시 타입 (```Primitive```) : 값이 스택 영역에 들어감 (```Call-By-Value```)
> - 객체 타입 (```Object```) : 값이 힙 영역에 들어감 (```Call-By-Reference```)
>
> <img src="https://github.com/pocj8ur4in/pocj8ur4in.github.io/assets/105341168/2afeda63-c90d-4989-bf9c-88af481e4acc">

- 원시 값을 제외한 나머지 값, 함수, 배열, 정규 표현식 등음 모두 객체
- 원시 값은 변경 불가능한 값이지만, 객체 값은 변경 가능한 값

```
var person = {
  name: 'John', // "name: 'John'"은 프로퍼티, 
  age: 21       // "name"은 프로퍼티 키, "'John'"은 프로퍼티 값
};
```

- 객체는 0개 이상의 프로퍼티의 집합 → 프로퍼티는 키 (```key```)와 값 (```value```)으로 구성
  - 자바스크립트에서 사용할 수 있는 모든 값은 프로퍼티 값이 될 수 있다.
  
- 객체는 프로퍼티와 메소드를 모두 포함하고 있어, 상태와 동작을 하나의 단위로 구조화할 수 있다.
  - 프로퍼티 (```property```) : 객체의 상태를 나타내는 값 (```data```)
  - 메소드 (```method```) : 프로퍼티를 참조하고 조작할 수 있는 동작 (```behavior```)

> - ```C++```이나 ```Java``` → 클래스 (```Class```) 기반 객체지향 언어 : 클래스를 사전에 정의하고, 필요한 시점에 ```new``` 연산자와 함께 생성자 (```constructor```)를 호출하여 인스턴스를 생성하는 방식으로 객체를 생성
> - 자바스크립트 → 프로토타입 (```Prototype```) 기반 객체지향 언어 : 다양한 객체 생성 방법을 지원

### 객체 리터럴에 의한 객체 생성 : ```{}``` 내에 0개 이상의 프로퍼티를 정의

- 변수에 할당되는 시점에 자바스크립트 엔진은 객체 리터럴을 해석해 객체를 생성


```
var person = {
  name: 'John',
  ...
}
```
