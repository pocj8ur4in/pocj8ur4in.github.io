---
title: "[vocawik] 6. 07/19 진행 내용"

tag:
    - vocawik

toc: true
toc_sticky: true

date: 2023-07-19
last_modified_at: 2023-07-19
---

> <a href="https://github.com/pocj8ur4in/vw-backend">vocawik</a> 프로젝트의 #16. init: Exception 및 ErrorCode 추가 ~ #17. init: JPA Auditing 추가에 대한 내용입니다.

## <a href="https://github.com/pocj8ur4in/vw-backend/commit/d877198b2b27cc6e48c30c2ac77a524d0d8a56ed">#16</a>. init: Exception 및 ErrorCode 추가

```
package vw.core.dto;

import lombok.Builder;
import lombok.Getter;

@Getter
@Builder
public class BaseErrorReason { // 오류의 원인을 나타내는 DTO
    private final Integer status; // HTTP 상태 코드
    private final String code; // HTTP 상태 코드 (문자열)
    private final String reason; // 오류의 원인
}
```

```
package vw.core.dto;

import java.time.LocalDateTime;
import lombok.Getter;

@Getter
public class BaseErrorResponse { // 오류에 대한 응답을 나타내는 DTO
    private final boolean success = false;

    private final Integer status; // HTTP 상태 코드
    private final String code; // HTTP 상태 코드 (문자열)
    private final String reason; // 오류의 원인
    private final LocalDateTime timeStamp; // 오류가 발생한 시간
    private final String path; // 오류가 발생한 경로

    public BaseErrorResponse(BaseErrorReason baseErrorReason, String path) {
        this.status = baseErrorReason.getStatus();
        this.code = baseErrorReason.getCode();
        this.reason = baseErrorReason.getReason();
        this.timeStamp = LocalDateTime.now();
        this.path = path;
    }

    public BaseErrorResponse(int status, String code, String reason, String path) {
        this.status = status;
        this.code = code;
        this.reason = reason;
        this.timeStamp = LocalDateTime.now();
        this.path = path;
    }
}
```

```
package vw.core.exception;

import vw.core.dto.BaseErrorReason;

public class BaseCodeException extends RuntimeException { // 실행 시 발생하는 예외를 나타냄 (RuntimeException 상속)
    private BaseErrorCode baseErrorCode; // 예외 발생 시에 해당 예외의 원인을 BaseErrorCode 객체에 저장

    public BaseErrorReason getErrorReason() { // 해당 예외의 원인을 반환
        return this.baseErrorCode.getErrorReason();
    }
}
```

```
package vw.core.exception;

import vw.core.dto.BaseErrorReason;

public interface BaseErrorCode {
    public BaseErrorReason getErrorReason(); // 에러의 원인을 반환

    String getExplainError() throws NoSuchFieldException; // 예외에 대한 설명을 문자열로 반환
    // NoSuchFieldException : Reflection을 사용하여 Field를 접근하려고 할 때, 해당 필드가 존재하지 않는 경우에 발생
}
```

## <a href="https://github.com/pocj8ur4in/vw-backend/commit/b21e88c86f0b54352a94d629125f544464b54537">#17</a>. init: JPA Auditing 추가


```
package vw.domain.common.config;

import org.springframework.boot.autoconfigure.domain.EntityScan;
import org.springframework.context.annotation.Configuration;
import org.springframework.data.jpa.repository.config.EnableJpaAuditing;
import org.springframework.data.jpa.repository.config.EnableJpaRepositories;
import vw.domain.DomainPackageLocation;

@Configuration
@EnableJpaAuditing
@EntityScan(basePackageClasses = DomainPackageLocation.class) // // Entity 스캔을 위한 기본 패키지 위치를 설정
@EnableJpaRepositories(
        basePackageClasses = DomainPackageLocation.class) // JPA 저장소를 활성화하기 위한 기본 패키지 위치를 설정
public class JpaConfig { // JPA Auditing 활성화
}
```

```
package vw.domain;

public class DomainPackageLocation {}
```