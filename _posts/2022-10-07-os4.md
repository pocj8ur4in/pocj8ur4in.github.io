---
title: "[Operation System] 4. IPC"

tags:
    - Operation System

toc: true
toc_sticky: true

date: 2022-10-07
last_modified_at: 2022-12-12
---

## 프로세스 간 통신 (```Inter Process Communication```) : 프로세스 간에 데이터를 주고받는 행위

- 독립 프로세스 (```Independent Process```) : (단일 처리 시스템에서) 다른 프로세스에 독립적인 동기적 프로세스
- 협력 프로세스 (```Cooperating Process```) : 실행중인 다른 프로세스와의 상호 작용을 통해 수행되는 비동기적 프로세스

### 공유 메모리 (```Shared Memory```) : 협력 프로세스 간 하나의 공유 메모리 영역을 만들어 상호 통신
> 공유 메모리 세그먼트 : 공유 메모리 영역은 공유 메모리 세그먼트를 생성하는 프로세스의 주소 공간에 위치

- 커널 의존성이 낮아 속도가 빠르고, 유저 레벨에서의 ```IPC```가 가능해 자유로운 통신이 가능
- 대량의 정보를 다수의 프로세스에게 배포 가능함
- 자원과 데이터를 공유하므로, 동기화 문제가 발생할 수 있음

### 메시지 패싱 (```Message Passing```) : 협력 프로세스 간 각자의 메시지를 운영 체제에 전달해 통신
- 별도의 구축 없이 커널만을 이용하기에 비교적 구현이 쉬움
- 커널을 이용할 때마다, 시스템 호출에 따른 문맥 전환이 매번 발생 (문맥 복사 2번 수행, 문맥 전환 오버헤드 발생)

### 파이프 (```PIPE```) : 통신을 위한 버퍼를 생성해 프로세스가 데이터를 상호 통신
- #### 익명 파이프 (```Anonymous PIPE```) : 통신할 프로세스를 명확히 아는 경우
  - 부모-자식 혹은 형제 간 통신에 사용 (외부 프로세스에서 사용할 수 없음)
  - 하나의 프로세스는 데이터를 쓰기만, 다른 하나는 데이터를 읽기만 수행 → 반 이중 (```Half-Duplex```) 통신
  - 송수신을 모두 하기 원한다면 파이프를 2개 구현해야 함

- #### 네임드 파이프 (```Named PIPE```) : 전혀 모르는 상태의 프로세스 간의 통신에 사용
  - 익명 파이프의 확장된 상태 : ```FIFO```를 통해 이름이 있는 파일을 사용하여 프로세스 간 통신
  - 송수신을 모두 하기 원한다면 파이프를 2개 구현해야 함

### 소켓 (```Socket```) : 동일한 운영체제에서 실행되는 프로세스 간 데이터를 교환하는 ```Endpoint```
- 클라이어트와 서버가 네트워크 소켓 통신을 통해 데이터를 공유 (원격에서 프로세스 간 데이터를 공유할 때 사용)
  - 양쪽 ```PC```에서 각각 임의의 포트를 정하고 해당 포트 간의 대화를 통해 데이터를 주고받음
  - 각각의 ```PC```의 포트를 담당하는 소켓은 데이터를 송수신하는 역할을 맡은 하나의 프로세스
- 전이중 (```Full Duplex```) 통신이 가능 : 서버-클라이언트 환경을 구축하는 데에 용이
- 중대형 어플리케이션에서 주로 사용

### 메시지 큐 (```Message Queue```) : 메모리 공간을 활용한 ```PIPE```
- 입출력 방식은 ```Named PIPE```와 유사
- ```PIPE```나 ```FIFO```와 달리 다수의 프로세스 간 메시지를 전달할 수 있음
- 사용할 데이터에 번호를 붙이면서 여러 프로세스가 동시에 데이터를 다룰 수 있음 → 메시지 접근을 위한 키 (```Key```) 필요

### 메모리 맵 (```Memory Map```) : 열린 파일을 메모리에 맵핑시켜서 공유
- 공유 메모리처럼 메모리를 공유함 (공유 매개체가 파일 + 메모리)
- 주로 파일로 대용량 데이터를 공유해야 할 때 사용, 파일 입출력이 느릴 때 사용하면 편리
- 대부분의 운영체제에서 프로세스를 실행할 때 실행 파일의 각 세그먼트를 메모리에 사상하기 위해 메모리 맵 파일 사용
- 메모리 맵 파일은 파일 크기를 변경할 수 없으며, 메모리 맵 파일을 사용하기 이전 혹은 이후에만 파일 크기를 변경 가능